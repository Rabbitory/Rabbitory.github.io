<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ArchitectureOverview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Architecture Overview | RABBITORY</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Rabbitory.github.io/rabbitory_webpage/docs/ArchitectureOverview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Architecture Overview | RABBITORY"><meta data-rh="true" name="description" content="Architecture Overview"><meta data-rh="true" property="og:description" content="Architecture Overview"><link data-rh="true" rel="icon" href="/rabbitory_webpage/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Rabbitory.github.io/rabbitory_webpage/docs/ArchitectureOverview"><link data-rh="true" rel="alternate" href="https://Rabbitory.github.io/rabbitory_webpage/docs/ArchitectureOverview" hreflang="en"><link data-rh="true" rel="alternate" href="https://Rabbitory.github.io/rabbitory_webpage/docs/ArchitectureOverview" hreflang="x-default"><link rel="stylesheet" href="/rabbitory_webpage/assets/css/styles.905555a4.css">
<script src="/rabbitory_webpage/assets/js/runtime~main.a4a98b7c.js" defer="defer"></script>
<script src="/rabbitory_webpage/assets/js/main.5998ea5e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/rabbitory_webpage/img/rabbitory-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitory_webpage/"><div class="navbar__logo"><img src="/rabbitory_webpage/img/rabbitory-logo.png" alt="Rabbitory Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitory_webpage/img/rabbitory-logo.png" alt="Rabbitory Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitory_webpage/docs/Introduction">Case Study</a><a class="navbar__item navbar__link" href="/rabbitory_webpage/team">Team</a><a href="https://github.com/Rabbitory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/MeetRabbitory">Meet Rabbitory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/ControlPanel">The Control Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/rabbitory_webpage/docs/ArchitectureOverview">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/Technical">Technical Decisions &amp; Challenges</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitory_webpage/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Architecture Overview</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Architecture Overview</h1></header>
<p>Rabbitory follows a modular, self-hosted architecture deployed entirely within the user’s AWS account. The system is composed of four main components:</p>
<ol>
<li>
<p>CLI Tool (NPM package)</p>
</li>
<li>
<p>Control Panel (EC2 Instance)</p>
</li>
<li>
<p>RabbitMQ Nodes (EC2 Instances)</p>
</li>
<li>
<p>Metadata Store (DynamoDB)</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" alt="Architecture Diagram" src="/rabbitory_webpage/assets/images/rabbitory-overall-3dbbd653908a2052226ee25bbe08ef28.png" width="7680" height="4320" class="img_ev3q"></p>
<p>Below, we’ll explore each of these architectural components in depth to showcase how Rabbitory is structured and how each part contributes to its overall functionality.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="command-line-tool">Command-Line Tool<a href="#command-line-tool" class="hash-link" aria-label="Direct link to Command-Line Tool" title="Direct link to Command-Line Tool">​</a></h2>
<p>The Rabbitory command-line interface (CLI) is a globally installed npm package that serves as the entry point to the entire Rabbitory system. After installation, users can run a single command to deploy or destroy all the AWS infrastructure needed to run the Control Panel and manage RabbitMQ instances. Deployment requires only an AWS region and, optionally, a custom domain for HTTPS. If a custom domain is provided, the CLI also configures DNS and automatically sets up an SSL certificate using Let&#x27;s Encrypt, enabling secure HTTPS access.</p>
<p>Running <code>rabbitory deploy</code> provisions the following core infrastructure:</p>
<ul>
<li>A t3.small EC2 instance running Ubuntu to host the Control Panel</li>
<li>A DynamoDB table to store metadata about RabbitMQ instances</li>
<li>All required IAM roles, instance profiles, and security groups</li>
</ul>
<p><img decoding="async" loading="lazy" alt="CLI Deployment" src="/rabbitory_webpage/assets/images/cli-deployment-3259e04a1f5d96e9ff0f995084b43264.png" width="7680" height="4320" class="img_ev3q"></p>
<p>IAM roles follow the principle of least privilege, granting only the necessary permissions for each instance. Security groups define inbound and outbound rules to ensure each instance communicates only with trusted sources on required ports.</p>
<p>While users can choose instance size and storage for RabbitMQ brokers, the Control Panel instance is fixed. We&#x27;ve selected a t3.small instance for cost-efficiency without sacrificing performance. When users no longer need the infrastructure, the <code>rabbitory destroy</code> command cleanly tears down all resources provisioned during deployment, including the DynamoDB table, the Control Panel instance, all managed RabbitMQ broker instances, and supporting AWS resources.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-control-panel">The Control Panel<a href="#the-control-panel" class="hash-link" aria-label="Direct link to The Control Panel" title="Direct link to The Control Panel">​</a></h2>
<p>The Rabbitory Control Panel communicates directly with all RabbitMQ instances to handle creating new instances, making configuration changes, and performing deletions. Rabbitory is hosted on a t3.small EC2 instance, chosen to give developers more control over their infrastructure at a lower price point. Hosting the Control Panel on an EC2 allows for custom IAM roles, security groups, and cohesive communication with other RabbitMQ EC2s in the Rabbitory environment.</p>
<p>The Control Panel is built entirely with Next.js, which powers both the backend server and the frontend UI, while Tailwind CSS is used for styling. Using Next.js allowed the entire app to run on a single EC2 instance, instead of relying on separate static file hosting services like AWS S3 Bucket. Static file hosting refers to the practice of serving pre-built, unchanging content such as HTML, CSS, JavaScript, and images directly from a storage service. S3 is a popular choice for static hosting because it stores and makes these files accessible over the web. However, with Next.js, we can serve dynamic content, handle server-side rendering, and manage API requests all from a single EC2 instance. This simplifies deployment and enables the Control Panel to be more integrated and responsive.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-nodes">RabbitMQ Nodes<a href="#rabbitmq-nodes" class="hash-link" aria-label="Direct link to RabbitMQ Nodes" title="Direct link to RabbitMQ Nodes">​</a></h2>
<p>Once the Control Panel is deployed, users can create individual RabbitMQ instances, each running on its own dedicated EC2 instance. During creation, users choose the instance type and storage size, allowing them to scale each broker according to its expected workload. Each instance is provisioned with an IAM role for permissions and a dedicated security group to control its network access.</p>
<p>After deployment, the Control Panel displays the instance’s AMQP endpoint under General &gt; Instance Info. This endpoint is what users plug into their producer or consumer code when building queue logic. Each instance can also be configured independently, with support for custom plugins, configuration files, and firewall settings tailored to its specific use case.
For JavaScript applications, a typical connection might look like this:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">amqp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">connect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">amqp://</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">username</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">password</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string string" style="color:rgb(255, 121, 198)">@</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">${</span><span class="token template-string interpolation">endpoint</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-store">Metadata Store<a href="#metadata-store" class="hash-link" aria-label="Direct link to Metadata Store" title="Direct link to Metadata Store">​</a></h2>
<p>Rabbitory uses DynamoDB to track and persist metadata about each RabbitMQ instance. This metadata allows the Control Panel to accurately reflect the state and configuration of each RabbitMQ instance, even if the instance is restarted or recreated. For every instance created, DynamoDB stores key data such as:</p>
<ul>
<li>Instance ID: A unique identifier for the instance</li>
<li>Instance Name: The user-defined name</li>
<li>Encrypted username/password: Credentials for accessing the RabbitMQ Management UI</li>
<li>Alarms: User-defined memory or storage thresholds</li>
<li>Backups: Snapshots of RabbitMQ configurations including policies, exchanges, users, permissions, and queues</li>
</ul>
<p>RabbitMQ instances are not persistent. If the EC2 hosting a RabbitMQ broker goes down, any queued messages are lost, and the instance is assigned a new IP address. However, since the core configuration and plugin data are preserved in DynamoDB, the instance can recover its settings without manual reconfiguration—unless it was terminated. Backups are also stored in DynamoDB and can be created at any time. Users can download these backups through the Control Panel’s Backups page, making it easy to restore the state when needed. In contrast, the Control Panel runs on a persistent EC2 instance and uses PM2 to ensure the app is restarted automatically after a reboot. Thanks to this persistence, the Control Panel can always reconnect to DynamoDB on startup and continue serving accurate data to users.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitory_webpage/docs/ControlPanel"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">The Control Panel</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitory_webpage/docs/Technical"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Technical Decisions &amp; Challenges</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#command-line-tool" class="table-of-contents__link toc-highlight">Command-Line Tool</a></li><li><a href="#the-control-panel" class="table-of-contents__link toc-highlight">The Control Panel</a></li><li><a href="#rabbitmq-nodes" class="table-of-contents__link toc-highlight">RabbitMQ Nodes</a></li><li><a href="#metadata-store" class="table-of-contents__link toc-highlight">Metadata Store</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Rabbitory</div></div></div></footer></div>
</body>
</html>