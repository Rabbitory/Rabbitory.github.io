<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Technical" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Technical Decisions &amp; Challenges | Rabbitory</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Rabbitory.github.io/rabbitory_webpage/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Rabbitory.github.io/rabbitory_webpage/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Rabbitory.github.io/rabbitory_webpage/docs/Technical"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Technical Decisions &amp; Challenges | Rabbitory"><meta data-rh="true" name="description" content="Automating the AWS Cloud infrastructure and designing the Control Panel for Rabbitory came with its own set of unique considerations and challenges. Below is a summary of the most salient decisions we made as a team and what challenges we encountered in building this tool."><meta data-rh="true" property="og:description" content="Automating the AWS Cloud infrastructure and designing the Control Panel for Rabbitory came with its own set of unique considerations and challenges. Below is a summary of the most salient decisions we made as a team and what challenges we encountered in building this tool."><link data-rh="true" rel="icon" href="/rabbitory_webpage/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Rabbitory.github.io/rabbitory_webpage/docs/Technical"><link data-rh="true" rel="alternate" href="https://Rabbitory.github.io/rabbitory_webpage/docs/Technical" hreflang="en"><link data-rh="true" rel="alternate" href="https://Rabbitory.github.io/rabbitory_webpage/docs/Technical" hreflang="x-default"><link rel="stylesheet" href="/rabbitory_webpage/assets/css/styles.2ead9558.css">
<script src="/rabbitory_webpage/assets/js/runtime~main.e688f905.js" defer="defer"></script>
<script src="/rabbitory_webpage/assets/js/main.3451a005.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitory_webpage/"></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitory_webpage/docs/Introduction">Case Study</a><a href="https://github.com/Rabbitory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/MeetRabbitory">Meet Rabbitory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/ControlPanel">The Control Panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/ArchitectureOverview">Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/rabbitory_webpage/docs/Technical">Technical Decisions &amp; Challenges</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitory_webpage/docs/Conclusion">Conclusion</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitory_webpage/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Technical Decisions &amp; Challenges</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Technical Decisions &amp; Challenges</h1></header>
<p>Automating the AWS Cloud infrastructure and designing the Control Panel for Rabbitory came with its own set of unique considerations and challenges. Below is a summary of the most salient decisions we made as a team and what challenges we encountered in building this tool.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-elastic-compute-cloud-vs-elastic-container-service">AWS Elastic Compute Cloud vs Elastic Container Service<a href="#aws-elastic-compute-cloud-vs-elastic-container-service" class="hash-link" aria-label="Direct link to AWS Elastic Compute Cloud vs Elastic Container Service" title="Direct link to AWS Elastic Compute Cloud vs Elastic Container Service">​</a></h2>
<p>The first technical decision our team needed to make was on whether to host RabbitMQ servers in containers managed by ECS (Elastic Container Service) or on EC2 (Elastic Compute Cloud) instances. Choosing the ECS option would make deployments faster and scaling easier by abstracting infrastructure and managing containers for you. However, it would introduce complexity for stateful apps like RabbitMQ, and give developers less direct access to things like storage, networking, and system-level configurations. On the other hand, the EC2 option provides users full control over their servers, making it ideal for managing RabbitMQ’s configuration, plugins, and storage directly. The tradeoff of using EC2 is more manual setup and maintenance, with slower provisioning and scaling as compared to containers.</p>
<p>Rabbitory prioritizes transparency, infrastructure ownership, and simplicity in a single-instance, self-hosted context. EC2 offers the right balance of control and familiarity for users who want to own their setup without diving deep into the complexities of container orchestration. If Rabbitory expands to support RabbitMQ clustering, ECS might become a more compelling option. But for now, the EC2 option best matches Rabbitory’s philosophy and needs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-software-development-kit-vs-cloud-development-kit">AWS Software Development Kit vs. Cloud Development Kit<a href="#aws-software-development-kit-vs-cloud-development-kit" class="hash-link" aria-label="Direct link to AWS Software Development Kit vs. Cloud Development Kit" title="Direct link to AWS Software Development Kit vs. Cloud Development Kit">​</a></h2>
<p>When deploying and interacting with AWS cloud resources, developers have the following options:</p>
<ul>
<li>AWS Command-Line Interface</li>
<li>AWS SDK - Software Development Kits</li>
<li>AWS CloudFormation</li>
<li>AWS CDK- Cloud Development Kit</li>
<li>Terraform</li>
</ul>
<p>[ Chart here if possible]</p>
<p>All of these options can call the AWS API to deploy resources, while the CLI and SDK can be used for AWS resource interactions. Because we wanted to automate AWS provisioning, our team considered the following two paths:</p>
<p>(1) AWS Typescript SDK for both deployment and resource interactions
(2) AWS Typescript CDK for deployment + SDK for resource interactions</p>
<p>Our team ended up choosing the first option, exclusively using the AWS SDK in our project, for infrastructure flexibility and quicker development. This approach removed the overhead of CloudFormation stacks and CDK bootstrapping, allowing Rabbitory to be both lightweight and customizable. The tradeoffs are that Rabbitory takes on more responsibility for infrastructure modeling, permission management, and avoiding configuration drift.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-server-interactions">RabbitMQ Server Interactions<a href="#rabbitmq-server-interactions" class="hash-link" aria-label="Direct link to RabbitMQ Server Interactions" title="Direct link to RabbitMQ Server Interactions">​</a></h2>
<p>RabbitMQ comes with a large set of utility features that allow users to customize their queues. Allowing users to access and enable these specialized features from a centralized place, like our Control Panel, is essential. To enable these features, users often need to interact with the RabbitMQ server directly. Since the Rabbitory Control Panel runs on a separate EC2 instance than the RabbitMQ EC2 instances, we needed a method for remotely controlling and configuring the RabbitMQ EC2.</p>
<p>One straightforward solution would be to create a custom API on each RabbitMQ instance that would accept requests and execute corresponding actions. However, running a persistent API on each RabbitMQ instance would force the instance to share system resources with other processes. According to RabbitMQ documentation, this is considered poor practice. We quickly recognized the need for an alternative approach that would avoid additional server load on the broker instance.</p>
<p>Another possible solution was to download RabbitMQ’s CLI tools onto the Control Panel EC2 instance to communicate with the RabbitMQ instances. This would allow the Control Panel to perform remote operations on each RabbitMQ instance without compromising the RabbitMQ instances’ system performance. However, this solution would shift the system resource burden onto the Control Panel EC2 and introduce additional dependencies. This method also creates redundancy, as the CLI tools already exist on each RabbitMQ broker instance.</p>
<p>Instead, we wanted a solution that enables remote access to these tools without duplicating infrastructure. AWS SSM Session Manager addressed this need by allowing users to initiate secure, remote shell sessions directly to EC2 instances. Using IAM permissions, users can safely run bash commands on remote instances without the need for persistent APIs or additional dependencies, preserving both performance and system simplicity. In Rabbitory, we utilize AWS SSM to change RabbitMQ configurations, enable plugins, and open protocol ports for individual RabbitMQ instances.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="control-panel-decisions--challenges">Control Panel Decisions &amp; Challenges<a href="#control-panel-decisions--challenges" class="hash-link" aria-label="Direct link to Control Panel Decisions &amp; Challenges" title="Direct link to Control Panel Decisions &amp; Challenges">​</a></h2>
<p>The first challenge the team ran into was determining the smallest viable EC2 instance type for hosting the Control Panel. Our initial choice for our instance type was the t2.micro. It seemed ideal from a cost perspective, but in practice, it failed to reliably serve the application. The combination of building the Next.js app and running it with PM2 consistently overworked the instance’s limited resources and caused the server to crash silently. This made the EC2 endpoint to our Control Panel unreachable. After testing alternatives, we found that upgrading the Control Panel EC2 instance to a t3.small provided enough CPU and memory to build and serve the application reliably, while still being cost-effective for a self-hosted setup.</p>
<p>When building the notification UI for our Control Panel, the application needed a way to deliver real-time alerts to the frontend without requiring a page refresh. While websockets are a common choice for this kind of communication, they require a persistent server to keep the connection open. Since Next.js uses a serverless architecture, this approach wasn&#x27;t a good fit. Instead, we implemented the system using server-sent events, which work well in a serverless environment and allow for efficient one-way communication from the server to the client.</p>
<p>Another challenge we encountered was accurately representing the status of RabbitMQ instances on the Control Panel homepage. AWS natively provides useful EC2 instance states like “pending,” “running,” “stopped,” and “shutting-down”. However, we found that the EC2 “running” status didn’t reliably reflect the readiness of the RabbitMQ server itself. Rather, the EC2 instance would report as “running” even though the RabbitMQ service was still initializing and not yet ready for configuration. To address this, we implemented our own server status check that continuously polls the EC2 instance after creation to verify that the RabbitMQ server is fully initialized and that the relevant configuration data has been successfully written to DynamoDB. Only after both checks pass do we mark the instance as “running” on the Control Panel homepage. Until then, we display a “pending” state and prevent users from accessing the instance details page to avoid confusion or premature interactions.</p>
<p>When creating the Alarms Page, we wanted to allow users to integrate memory and storage alarms with their team’s workplace Slack environment. However, we ran into a significant hurdle when trying to integrate Rabbitory with Slack Notifications. Because Rabbitory is self-hosted, we couldn’t rely on a single centralized Slack bot to send alerts, as any bot tied to our infrastructure wouldn’t persist across user deployments. Our solution was to shift the responsibility of creating a Slack bot to the user. After deploying their infrastructure and accessing the Control Panel, users who want to create an alarm for their RabbitMQ instance are guided to set up their own Slack bot and provide its credentials. Although this adds manual setup work for our users, this approach aligns with Rabbitory’s self-hosted model and allows users the convenience of receiving a Slack notification when memory and storage issues arise.</p>
<p>Currently, alarms are tied to the lifecycle of the Control Panel, as they are managed using node-cron on the Control Panel’s EC2 instance. To support persistence beyond the Control Panel’s uptime, future work for Rabbitory could include integrating with Amazon EventBridge for more robust and decoupled alarm management.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="providing-an-https-option-for-the-control-panel">Providing an HTTPS Option for the Control Panel<a href="#providing-an-https-option-for-the-control-panel" class="hash-link" aria-label="Direct link to Providing an HTTPS Option for the Control Panel" title="Direct link to Providing an HTTPS Option for the Control Panel">​</a></h2>
<p>Our team later decided to give users the option to configure their Control Panel with either HTTP or HTTPS when deploying infrastructure using the Rabbitory CLI. HTTPS, the secure version of HTTP, encrypts communication between the browser and server to protect data and improve web security. Many self-hosted SaaS tools default to HTTP, placing the responsibility of enabling HTTPS on the user. While this simplifies initial deployment, it requires users to manually secure their application later.</p>
<p>For example, Grafana, a real-time monitoring and visualization tool, ships with HTTP out of the box and provides documentation that guides users on configuring HTTPS. Enabling HTTPS typically involves setting up DNS records, obtaining and installing security certificates, and configuring a reverse proxy with tools such as NGINX. Each of these steps depends on the successful execution of the preceding one, making the process both challenging and time-consuming. Moreover, DNS propagation may be inconsistent, as various domain servers resolve names at different speeds based on their hierarchical positions.</p>
<p>Our team recognized the need to automate this process to reduce engineering overhead during deployment. Rabbitory simplifies HTTPS setup by automating it during deployment. If users choose HTTPS for their Control Panel, the CLI prompts them to provide a domain they&#x27;ve already purchased. Rabbitory uses AWS Route53 to handle DNS. Whether the domain is registered with Route53 or another domain provider, the CLI handles the necessary updates. The CLI automatically creates a hosted zone with two A-records pointing to the Control Panel’s IP address, issues certificates via Certbot, and configures NGINX as a reverse proxy. By automating this setup, Rabbitory provides a secure, production-ready environment with minimal manual effort.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitory_webpage/docs/ArchitectureOverview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Architecture Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitory_webpage/docs/Conclusion"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Conclusion</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#aws-elastic-compute-cloud-vs-elastic-container-service" class="table-of-contents__link toc-highlight">AWS Elastic Compute Cloud vs Elastic Container Service</a></li><li><a href="#aws-software-development-kit-vs-cloud-development-kit" class="table-of-contents__link toc-highlight">AWS Software Development Kit vs. Cloud Development Kit</a></li><li><a href="#rabbitmq-server-interactions" class="table-of-contents__link toc-highlight">RabbitMQ Server Interactions</a></li><li><a href="#control-panel-decisions--challenges" class="table-of-contents__link toc-highlight">Control Panel Decisions &amp; Challenges</a></li><li><a href="#providing-an-https-option-for-the-control-panel" class="table-of-contents__link toc-highlight">Providing an HTTPS Option for the Control Panel</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Rabbitory.</div></div></div></footer></div>
</body>
</html>